Block 2

gitlab берем здесь
https://github.com/sameersbn/docker-gitlab
(docker-compose.yml)

Это точно работающий вариант для GMAIL. 
Логин без @gmail.com и без кавычек

- SMTP_ENABLED=true
- SMTP_DOMAIN=gmail.com
- SMTP_HOST=smtp.gmail.com
- SMTP_PORT=587
- SMTP_USER=login
- SMTP_PASS=password
- SMTP_STARTTLS=true
- SMTP_AUTHENTICATION=login


Да, как писали выше, гмэйл по умолчанию блокирует левые подключения, надо разрешать. Письмо об этом приходит почти сразу же (на почту отправителя)

ЕНС. перед тем, как гмэйл заработал, я зашел 
https://myaccount.google.com/u/0/?hl=ru
(или можно через Настройки - Аккаунты и импорт - Другие настройки аккаунта Google
выбрал ссылку "приложения, у которых есть доступ к аккаунту"
и там внизу на странице есть переключатель
"ненадежные приложения разрешены"
Вот его я включил.
После этого придет письмо о доступе ненадежным приложениям к аккаунту.
Все. Отправка почты работает.
